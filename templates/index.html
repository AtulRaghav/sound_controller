<!DOCTYPE html>
<html>
<head>
    <title>Sound Volume Control</title>
</head>
<body>
    <label for="soundRange">Volume:</label>
    <input type="range" id="soundRange" name="volume" min="0" max="100" value="{{ volume }}">
    <p>Current Volume: <span id="volumeValue">{{ volume }}</span></p>
    <button id="updateButton">Update Volume</button>

    <audio id="song" controls>
        <source src="static/The_Weeknd_-_Blinding_Lights__Official_Audio_(48k).mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <script>
        const soundRange = document.getElementById("soundRange");
        const volumeValue = document.getElementById("volumeValue");
        const updateButton = document.getElementById("updateButton");
        const song = document.getElementById("song");

        soundRange.addEventListener("input", function() {
            volumeValue.textContent = soundRange.value;
            song.volume = soundRange.value / 100;
        });

        updateButton.addEventListener("click", function() {
            fetch('/update_volume', {
                method: 'POST',
                body: new URLSearchParams(new FormData(document.querySelector('form'))
            });
        });
    </script>
</body>
</html>
